<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8">
    <title>웹 개발 입문입니다ㅇㅇㅇㅇ</title>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
      const p = document.querySelector('p')
      const button = document.querySelector('button')
      const input = document.querySelector('input')
      const select = document.querySelector('select')

      //p태그를 활용해 마지막 저장된 것을 확인해보자
      const key = localStorage.getItem('키')
      if (key !== null){                               //null이 출력되면 좀 그러니깐..
        p.textContent = `이전 실행때의 마지막 값 : ${key}`
        input.value = key    //setItem에서 저장된 것을 가져와 여기 넣는다. (단, 새로고침의 경우만)
      }
  

      button.addEventListener('click', () => {localStorage.clear() })                       //버튼 누를시 로컬스토리지 모두 제거하기
      input.addEventListener('keyup', () => {     //키 업 될때 입력양식 내부의 값 저장
        localStorage.setItem('키', input.value)   //입력 양식에 값을 입력시 데이터가 저장된다.!
      })      
      select.addEventListener('change', () => { 
        const color = select.options[select.selectedIndex].value
        document.body.style.backgroundColor = color
      })
      



      `
        localStorage.getItem('키')            //특정 키로 어떠한 값을 추출할때
        localStorage.setItem('키', '값')      //특정 키로 특정한 값 저장
        localStorage.removeItem('키')         //특정 키로 어떠한 값 제거
        localStorage.clear()                  //특정 키로 전체제거
      `  

    })
    
    </script>
  </head>
  <body>
    <p></p>
    <button>지우기</button>
    <input type="text" name="" id="">
    <!-- 드롭다운 -> 옵션:색상 -> 페이지 배경색상 변경 -> 저장될 수 있게...즉 글자이외에 색상이라는 걸 저장해본다    -->      
    <select name="" id="">
      <option value="red">빨</option>
      <option value="blue">푸</option>
      <option value="green">초</option>

    </select>

    
    
    
  </body>
  <p>localStorage객체는 지역적으로 사용할 수 있는 저장소 객체이다. 간단한 앱 경우 이걸 활용한다. getItem, setItem, removeItem, clear 등의 매소드가 있다.
  <p>input 태그에 글자 입력하고 새로고침 하면 원래 글자가 지워지지만 그 이전 값을 저장해 출력하고 input태그에도 유지하는 것을 만들어보자.
  <p>지우기 버튼을 누르면 localStorage 값은 다 없어지는 반면 localStorage.setItem을 활용했으므로 새로고침을 하면 저장되어있다.</p>
  <p>하지만 localStorage에 저장되어 있어도 새로고침 시 input태그에는 나타나지 않는다. 그러므로 input.value = localStorage.getItem('키')를 사용해 전에 저장된 값을 불러와 넣어준다.</p>
  <p>이후 p태그도 활용해보고 코드도 간단히 만들어본다.</p>
  <P>localStorage개체는 getItem으로 값이 없으면 null을 리턴한다. </P>

  </html>