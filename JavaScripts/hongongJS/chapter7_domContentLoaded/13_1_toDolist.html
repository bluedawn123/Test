<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8">
    <title>웹 개발 입문입니다ㅇㅇㅇㅇ</title>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const h1 = document.createElement('h1')                   //h1생성
            h1.textContent = '할 일 목록'
            document.body.appendChild(h1)

            const input = document.createElement('input')             //인풋태그 생성
            //엔터시 작동하게
            input.addEventListener('keyup', (event) => {
                if(event.keyCode == 13){
                    if (input.value !== ''){ //input태그가 공란이아닐시만 실행되게 

                        const div = document.createElement('div')             //div태그 생성. 태그를 왜 생성? => 아래 body에 있기때문. 위와 별개로 취급하면 이해가쉽다
                        document.body.appendChild(div)                        //body에 붙힌다.

                        const checkbox = document.createElement('input')
                        checkbox.type = 'checkbox'      //checkbox타입 지정
                        checkbox.addEventListener('change', () => {    //체크박스에 체크를 하면 줄이 그어져야 하므로, 여기에 줄이 그어지는 방식으로 한다. click도 가능
                            if(checkbox.checked){
                            div.style.textDecoration = 'line-through'  //선긋기
                            }
                            else{
                            div.style.textDecoration = ''   //해제
                            }
                        })
                        div.appendChild(checkbox)       //div태그에 붙힌다. 이럼 div가 부모태그가 돼어야 하기 때문 (=> div를 기준으로 한덩이를 만들고자해서)

                        const span = document.createElement('span')  //span태그는 input에 넣었던 글자를 보여주기 위해 쓰인다.
                        span.textContent = input.value
                        input.value = ''
                        div.appendChild(span)    //역시 div에 붙힌다.

                        const deletebutton = document.createElement('button')
                        deletebutton.textContent = '제거하기'
                        deletebutton.addEventListener('click', () => {
                            div.parentNode.removeChild(div)
                        })
                        div.appendChild(deletebutton)}
                }
            })
            
            document.body.appendChild(input)

            const addbutton = document.createElement('button')        //버튼태그 생성
            addbutton.textContent = '추가하기'
            document.body.appendChild(addbutton)

            //addbutton클릭시 해당글자가 todolist에 들어가는 것을 만들기
            addbutton.addEventListener('click', () => {    
                if (input.value !== ''){ //input태그가 공란이아닐시만 실행되게 

                const div = document.createElement('div')             //div태그 생성. 태그를 왜 생성? => 아래 body에 있기때문. 위와 별개로 취급하면 이해가쉽다
                document.body.appendChild(div)                        //body에 붙힌다.

                const checkbox = document.createElement('input')
                checkbox.type = 'checkbox'      //checkbox타입 지정
                checkbox.addEventListener('change', () => {    //체크박스에 체크를 하면 줄이 그어져야 하므로, 여기에 줄이 그어지는 방식으로 한다. click도 가능
                    if(checkbox.checked){
                    div.style.textDecoration = 'line-through'  //선긋기
                }
                    else{
                        div.style.textDecoration = ''   //해제
                    }
                })
                div.appendChild(checkbox)       //div태그에 붙힌다. 이럼 div가 부모태그가 돼어야 하기 때문 (=> div를 기준으로 한덩이를 만들고자해서)

                const span = document.createElement('span')  //span태그는 input에 넣었던 글자를 보여주기 위해 쓰인다.
                span.textContent = input.value
                input.value = ''
                div.appendChild(span)    //역시 div에 붙힌다.

                const deletebutton = document.createElement('button')
                deletebutton.textContent = '제거하기'
                deletebutton.addEventListener('click', () => {
                    div.parentNode.removeChild(div)
                })
                div.appendChild(deletebutton)
                
                }
                else{
                    alert('공란입니다. 할 일 목록을 입력해주세요')
                }
            }) 
        })
    
    </script>
  </head>
  <body>
    <!--- 이런식으로 만들것이다라고 염두하고 위의 코드 작성
    <div>
        <input type="checkbox" name="" id="">
        <span></span>
        <button></button>
       
    </div>
    -->

    <br>
    
    
  </body>
  <p>클릭과 엔터를 했을 때 실행되는 코드가 같아서 겹친다. 이걸 13_2에서 수정해보자
  <p>
  <p>
  
</html>