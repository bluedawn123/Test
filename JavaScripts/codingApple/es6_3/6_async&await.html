<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8">
  </head>
  <body>

    <div>
        <p>테스트용버튼</p>
        <button id="button">button</button>

    </div>

    <script> 
    //async
    async function 더하기1(a, b){
        return a+b
    }

    더하기1(3, 4).then(function(결과){
        console.log(결과)             // 7
        console.log('성공')
    })

    //await
    async function 더하기2(){
        var 프로미스 = new Promise(function(성공, 실패){
            var 힘든연산 = 1+1;
            성공(11)
        });

        try {
            var 결과 = await 프로미스;
            console.log(결과);
        } catch {
            console.log('잘안됌');   //실패시 이게 출력된다. 
        }

    }

    더하기2()  ///111



    ///버튼 클릭시 성공을 판정하는 걸 만들어보자. 
    async function 더하기(){
        var 프로미스 = new Promise(function(성공, 실패){
            document.getElementById('button').addEventListener('click', function(){
                성공('성공했습니다.');
            })
        });
        var 결과 = await 프로미스;
        console.log(결과);
    
    }

    더하기();










    </script>
   

    <br>
    <p>-------------------------------------------------수업 내용--------------------------------------------</p>
    
</body>
<p>async를 함수앞에 쓰면 함수 실행후에 Promise 오브젝트가 남는다. (굳이 promise를 안 써도 된다.)
<p>단점 : 실패 시 뭘 할 수 없다. (Promise.reject()를 강제적으로 사용해줘야함. )
<p>await = async function 안에서 쓴다. then대신 사용 가능
<p>await은 프로미스 실패시 에러가 나오 멈춘다. 이때 try, catch를 사용한다. 
<p>
