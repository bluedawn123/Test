<!doctype html>
<html lang="ko">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="css/hammer.css" rel="stylesheet"> 
    <script  
    src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
    crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js" integrity="sha256-eVNjHw5UeU0jUqPPpZHAkU1z4U+QFBBY488WvueTm88=" crossorigin="anonymous"></script>

  </head>
  <body>

    <!-- <h4 id=hi>안녕. (필요없는데 안지운거 신경 ㄴㄴ)</h4> -->

    <div class="left-menu">
      <p style="margin-left: 10px; margin-top: 65px">Menu Title</p>
      <p id="close-menu" style="margin-left: 10px; margin-top: 450px">Close Menu</p>   

    </div>



    <!------------------------------------------- 로그인 모달창 ----------------------------------------->
    <div class="black-background">
      <div class="white-background">
        <p style="text-align: center;">로그인하시오</p>

        <form>
            <div class="form-group">
              <input type="email" class="form-control" placeholder="Email" id="email">
              <!-- 공백시 알림창 -->
              <p id="email-alert">이메일이 빈칸입니다. 이메일을 입력해주세요</p>
            </div>
            <div class="form-group">
              <input type="password" class="form-control" placeholder="Password" id="psw">
              <p id="psw-alert">비밀번호가 빈칸입니다. 비밀번호를 입력해주세요</p>
            </div>
            <button type="submit" class="btn btn-primary" style="margin-top: 15px;">전송</button>
        </form>

        <button class ="btn btn-danger" id="close" style="margin-top: 15px;">닫기</button>

    <script>
    //검은 배경 누르면 화면 닫히기
    $('.black-background').click(function(e){
      //만약 실제로 클릭한게 검은 배경(e.currentTarget)일때만 로그인 창 닫히게 => 이벤트 버블링 없애기
      if(e.target == e.currentTarget){
        $('.black-background').hide();
      };
    })

    </script>
    
  </div>
  </div>

    <!-------------------------------------------- 메뉴바----------------------------------------------------->
    <div class="nav-menu navblack">
        <h4 style="margin : 0" class="large-logo smalllogo">Shoes Studio</h4>
        <a id="nav-sub-button">Products</a>
    </div>

    <!-- 스크롤바 내렸을때 투명해지기 + 조금(100px정도) 내렸을때 작동하도록 -->
      <script>
        $(window).on('scroll', function(){
          if ($(window).scrollTop() > 150){  //만약 스크롤을 ~~~px 내렸을때
            $('.nav-menu').addClass('nav-black');      //클래스 부착
            $('.nav-menu h4').addClass('small-logo');  //클래스 부착                                           
          }
        //스크롤바 올리면 다시 원상복구 시키기
          if ($(window).scrollTop() <= 150){  //만약 스크롤을 ~~~px 내렸을때
            $('.nav-menu').removeClass('nav-black');      //클래스 부착
            $('.nav-menu h4').removeClass('small-logo');  //클래스 부착                                           
          }
        });
      </script>
      <!--------------------------------------------메뉴바----------------------------------------- -->

    <!--products 눌렀을때 메뉴바 뜨게  ==> 근데 스크롤바를 내린 후 누르면 안된다는 치명적인 단점 존재-->
    <ul class="list-group nav-sub">
        <li class="list-group-item"></li>
        <li class="list-group-item">InnerWear</li>
        <li class="list-group-item">Shirts</li>
        <li class="list-group-item">Shirts</li>
        <li class="list-group-item">Shirts</li>

    </ul>
    




    <!-- 메인배경 -->
    <div class="jumbotron main-background">
      <h1 class="display-4">Shoes Studio!</h1>
      <p class="lead">This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information.</p>
      <hr class="my-4">
      <p>It uses utility classes for typography and spacing to space content out within the larger container.</p>
      <!-- 로그인 버튼 -->
      <a id="login" class="btn btn-primary btn-lg" href="#" role="button">Log In</a>

      <!-- 메뉴 보여주기 버튼 -->
      <a id="show-menu" class="btn btn-danger btn-lg" href="#" role="button">Show Menu</a>
    </div>

    <h4 class="my-4 text-center">show case</h4>

    <!---------------------------------------------- carosel  -------------------------------------------->
    <div style="overflow:hidden; position:relative;">         <!--넘치는 애들 + 스크롤 바 안보이게 하기-->
        <div class="slide-container transforming">            
            <div class="slide-box">
                <img src="img/shoes.jpg">
            </div>
            <div class="slide-box">
                <img src="img/travel1.jpg">
            </div>
            <div class="slide-box">
                <img src="img/travel2.jpg">
            </div>
        </div>

        <button class="slide-before">Before</button>
        <button class="slide-next">Next</button>
    </div>

    <br>
    <button class="slide-1">1</button>
    <button class="slide-2">2</button>
    <button class="slide-3">3</button>

    <div class="my-5"></div>

<!------------------------------------------------tap --------------------------------------------->

<div>
        <ul class="list">       <!--이벤트 버블링때문에 여기에 이벤트 리스너를 사용하면 아래 3개에 사용하는 것과 같다-->
            <li class="tab-button active" data-id="0">Products</li>  <!--data-작명="값" 은 자바스크립트에서 쉽게 꺼내쓸 수 있다.-->
            <li class="tab-button" data-id="1">Information</li>
            <li class="tab-button" data-id="2">Shipping</li>
        </ul>
    
        <div class="tab-content">
            <p>상품설명입니다.</p>
        </div>
        <div class="tab-content show">
            <p>상품정보입니다.</p>
        </div>
        <div class="tab-content">
            <p>배송정보입니다.</p>
        </div>
    </div>

<script src="tap.js"></script>  

<!------------------------------------------------tap --------------------------------------------->








    <script>
//////////////////////////////////////////////////////hammer.js////////////////////////////////////////////////////////////
    var 지금보이는사진
    var 이미지1 = document.querySelectorAll('.slide-box img')[0]   //위3개중 첫번째

    var 매니저 = new Hammer.Manager(이미지1);             //어떤 요소에 터치기능 개발을 할건지. 이미지1의 터치이벤트 담당매니저
    매니저.add(new Hammer.Pan({ threshold: 0 }));        //pan => 슬라이드. threshold => 작동되는 최소값

    매니저.on('pan', function(e){
        console.log(e.deltaX)  //어느쪽으로 슬라이드를 했는지 알 수 있다
        //만약 왼쪽으로 그림을 슬라이드 했을때... => 슬라이드(e.deltaX) 한 만큼 박스를 왼쪽으로 이동시키는 것
        if( e.deltaX < -1){
          $('.slide-container').css('transform', 'translateX(' + e.deltaX + 'px)' );
        }

        //마우스 떼면 이미지2가 나와야 한다. 
        //만약 마우스를 놓으면, (즉 끌어다가 넘기면서 마우스를 놓는 순간)
        if (e.isFinal && 지금보이는사진==1){
          //부드럽게 + 두번째 사진으로 변해야한다. 부드럽게 하고 pan버그 안 일어나게 하려고 잠깐 클래스를 붙혔다뗐다 해야한다.
          $('.slide-container').addClass('transforming');                     //여기다가 transforimg class 추가
          $('.slide-container').css('transform', 'translateX(-100vw)');

          //제거시점 ? => 사진이 n초 후에 부드럽게 넘어간 이후. 여기선 css에 1초로 명시
          setTimeout(function(){
            $('.slide-container').removeClass('transforming');                //여기다가 transforimg class 제거
          }, 1000)  //1000 = 1초
          

        }

    
    
    
    })












        // fadeIn을 사용한 로그인 버튼
        // $('#login').on('click', function(){    //id=login이라는 로그인창 누르면, 모달창인 black-background 뜨는 코드
        //     $('.black-background').fadeIn();
        // });
        
        // 애니메이션을 사용한 로그인 버튼 등장(위에서 아래로)
        $('#login').on('click', function(){    //id=login이라는 로그인창 누르면, 모달창인 black-background 뜨는 코드
             $('.black-background').show();    //display : none이므로, modal창을 show()로 보여준다. (위에서 보이는 상태)
             $('.black-background').animate({marginTop : '0px'});  //(위에있는 것을)-1200에서 0으로 내려오게 한다.
         
        //  show().animate()처럼 연속해서 함수를 쓸수도 있다.
        });
        
        //로그인 후 닫기 버튼
        $('#close').on('click', function(){    //id=login이라는 로그인창 누르면, 모달창인 black-background 뜨는 코드
            $('.black-background').fadeOut();
        });   

        //products 버튼 (위와 같다)
        $('#nav-sub-button').click(function(){    //id=login이라는 로그인창 누르면, 모달창인 black-background 뜨는 코드
            $('.nav-sub').slideToggle();          //눌렀을때 내리고 올리고 자유롭게
        });

        //로그인 아이디, 비번 공백 방지              //email input에 입력된 값이 빈칸인 경우 form의 전송을 막고 안내문을 띄워야 한다.
        $('form').on('submit', function(e){
          if ($('#email').val() == ''){           //email 인풋 입력값이 빈칸이면,
            e.preventDefault();                   //form전송을 막는다. => e.preventDefault(); => form의 전송을 막는다. 
            $('#email-alert').show();
          }
          else if ($('#psw').val() == ''){        //비밀번호 인풋 입력값이 빈칸이면,
            e.preventDefault();                   //form전송을 막는다. => e.preventDefault(); => form의 전송을 막는다. 
            $('#psw-alert').show();
            
          }
        });  

        // // 이메일인풋 관련 이벤트
        // $('#email').on('change', function(){     //change? => 값이 변하고 focus를 잃는 경우 실행
        // $('#email').on('input', function(){     //input? => 값이 변경된 경우 실행


        // 안녕 animate 예시. 
        $('#hi').click(function(){
        $('#hi').animate( {marginTop : '100px',} );             //css에선 margin-left, 제이쿼리는 marginLeft. 여러개 사용가능
        });

        // show-menu버튼 클릭 시 메뉴 열기 (fadeIn사용)
        $('#show-menu').click(function(){
          $('.left-menu').fadeIn();
        })    

        // show-menu버튼 클릭 시 메뉴 열기 (animate사용) => 그냥 fadeIn으로 사용
        // $('#show-menu').click(function(){
        //   $('.left-menu').animate( {marginLeft:'150px'});
        // }) 

        // 메뉴 열렸을때 Close Menu 눌렀을 때 메뉴 닫기///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        $('#close-menu').on('click', function(){    //id=login이라는 로그인창 누르면, 모달창인 black-background 뜨는 코드
            $('.left-menu').fadeOut();
        }) 

        //Carousel 버튼 기능개발
        $('.slide-1').click(function(){            //버튼2 누르면 왼쪽으로 움직이게 하라 => 큰 콘테이너를 100vw(css참조)만듬 움직이자!
            $('.slide-container').css('transform', 'translateX(0vw)');
        })

        $('.slide-2').click(function(){            //버튼2 누르면 왼쪽으로 움직이게 하라 => 큰 콘테이너를 100vw(css참조)만듬 움직이자!
            $('.slide-container').css('transform', 'translateX(-100vw)');
        })
        
        $('.slide-3').click(function(){            //버튼2 누르면 왼쪽으로 움직이게 하라 => 큰 콘테이너를 100vw(css참조)만듬 움직이자!
            $('.slide-container').css('transform', 'translateX(-200vw)');
        })

        //slide-next 버튼기능개발 => 사진 1이 보이면, 사진2를 보여주고, 사진2가 보이면 사진3를 보여라 //////////////////////////////////////////////////////////////
        var 지금보이는사진 = 1;
        
        $('.slide-next').click(function(){
            if( 지금보이는사진 < 3){            //총 사진의 갯수가 3이므로
                $('.slide-container').css('transform', 'translateX(-' + 지금보이는사진 + '00vw)');  // 'translateX(-n00vw)'); 처럼사용하기 위해서
                지금보이는사진 = 지금보이는사진 + 1;
            }
        });
            // if( 지금보이는사진 == 1){
            //     $('.slide-container').css('transform', 'translateX(-100vw)');
            //     //넘어갔으므로 지금보이는사진이 2라고 알려줘야한다
            //     지금보이는사진 = 지금보이는사진 + 1;
            // }
            // else if( 지금보이는사진 == 2){
            //     $('.slide-container').css('transform', 'translateX(-200vw)');
            //     지금보이는사진 = 지금보이는사진 + 1;
            // }
        $('.slide-before').click(function() {
          if ( 지금보이는사진 > 1 ) { 
          $('.slide-container').css('transform', 'translateX(-' + (지금보이는사진 - 2) + '00vw)');  
            지금보이는사진 = 지금보이는사진 - 1;
        }
        });




  

    </script>
   

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    
  </body>
  <p>--------------------------------------------수업 내용-----------------------------------</p>
  <p>수업내용
  <p>슬라이드 터치 기능을 만들어 본다. => 호환성 문제로 hammer.js 를 설치해서 한다.
  <p>1. 일단 자바스크립트 셀렉터로 기능개발할 요소를 찾는다.
  <p>2. new Hammer.Manager() / add()로 요소를 등록한다. => 어떤 요소를 내가 hammer.js로 작동시킬지 정의해야한다.
  <p>transforming 이라는 클래스를 만든다. 이유? => 마우스를 놓는 순간 부드럽게 넘어가게 하기 위해서
  <p>근데 모든 곳에 사용하면 안되므로(pan 특성) 필요한 곳에만 쓴다.
 
  <br>
  <br>
  <br>

</html>
