
<!doctype html>
<html lang="ko">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="css/carousel.css" rel="stylesheet"> 
    <script  
    src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
    crossorigin="anonymous"></script>

  </head>
  <body>

    <!-- 로그인 모달창 맨 위에 위치하는 게-->
    <div class="black-bg">
      <div class="white-bg">
        <h4>로그인하세요</h4>
        <form action="success.html" class="form-frame">
            <div class="my-3">
              <input type="text" class="form-control" id="email">
            </div>
            <div class="my-3">
              <input type="password" class="form-control" id="password">
            </div>
            <div class="submit-close">
              <button type="submit" class="btn btn-primary" id="send">로그인</button>
              <button type="button" class="btn btn-danger" id="login-close">닫기</button>
            </div>
          </form> 
    </div>
    </div>

    <!-- 메뉴 -->
    <div class="nav-menu">
        <h4 style="margin : 0">Shoes Studio</h4>
        <span class="badge bg-grey" class="ms-auto mx-3">DarkMode 🔄</span>
        <a id="nav-sub-button">Products</a>
    </div>
    <!--products 눌렀을때 메뉴바 -->
    <ul class="list-group nav-sub">
        <li class="list-group-item">Outer</li>
        <li class="list-group-item">InnerWear</li>
        <li class="list-group-item">Shirts</li>
    </ul>
    <!-- 메인 배경 -->
    <div class="jumbotron main-background">
      <h1 class="display-4">Shoes Studio!</h1>
      <p class="lead">This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information.</p>
      <hr class="my-4">
      <p>It uses utility classes for typography and spacing to space content out within the larger container.</p>
      <a id="login" class="btn btn-primary btn-lg" href="#" role="button">Log In</a>
    </div>

    <!-- <div class="alert alert-danger">
        <span id="num">5</span>초 이내 구매시 사은품 증정
    </div> -->


    <div style="overflow: hidden; position: relative;"> <!--넘치는 거 안보이게 하려고-->
      <div class="slide-container">
        <div class="slide-box">
          <img src="image/car1.jpg" draggable="false">  <!--drag이벤트 = 잡아서 끌어서 다른곳에 두는것. 끄는게 넘기기엔 나음-->
        </div>
        <div class="slide-box">
          <img src="image/car2.jpg" draggable="false">
        </div>
        <div class="slide-box">
          <img src="image/car3.jpg" draggable="false">
        </div>
      </div>

        <button class="slide-before">Before</button>
        <button class="slide-next">Next</button>
      </div>
   </div> 

   <!-- <button class="slide-1">1</button>
   <button class="slide-2">2</button>
   <button class="slide-3">3</button> -->



    <script>
        //css 클래스 탈부착 방식
        $('#login').on('click', function(){
          $('.black-bg').addClass('show-modal');
        });

        $('#login-close').on('click', function(){
          $('.black-bg').removeClass('show-modal');
        });

        $('#send').on('click', function(e){
          if(document.getElementById('email').value == ''){
            e.preventDefault();
            alert('아이디를 입력하지 않았습니다.')
          }  
          else if(document.getElementById('password').value == ''){
            e.preventDefault();
            alert('비밀번호를 입력하지 않았습니다.')
          }
        });


        //다크모드 만들어보기 
        //버튼 누른 횟수가 홀수면 버튼 내부 글자를 Light로, 버튼 누른 횟수가 짝수면 버튼 내부 글자를 Dark로 변경
        var count = 0;

        $('.badge').on('click', function(){
          count += 1;  //버튼누를 때 마다 버튼누른 횟수를 계속 업데이트
          if (count % 2 == 1) {
            $('.badge').html('Light Mode 🔄');  //jQuery로 찾은 요소 innerHTML을 바꾸고 싶으면 .html('바꿀내용') 
          }
          else {
            $('.badge').html('Dark Mode 🔄')
          }
        });        


        //products 버튼 (위와 같다)
        $('#nav-sub-button').click(function(){    //id=nav-sub-button이라는 로그인창 누르면, 슬라이드 바 내려오는 코드
          $('.nav-sub').slideToggle();          //눌렀을때 내리고 올리고 자유롭게
        })


        //carousel 만들기
        $('.slide-1').on('click', function() {
          //슬라이드콘테이너의 css에 transform + X축 -100vw (x축으로 -100vw만큼 변경)하라라는 코드 추가. (css참조)
          $('.slide-container').css('transform', 'translateX(0vw)');
        });

        $('.slide-2').on('click', function() {
          //슬라이드콘테이너의 css에 transform + X축 -100vw (x축으로 -100vw만큼 변경)하라라는 코드 추가. (css참조)
          $('.slide-container').css('transform', 'translateX(-100vw)');
        });

        $('.slide-3').on('click', function() {
          //슬라이드콘테이너의 css에 transform + X축 -100vw (x축으로 -100vw만큼 변경)하라라는 코드 추가. (css참조)
          $('.slide-container').css('transform', 'translateX(-200vw)');
        });

        // 쌩자바스크립트로 만들어보기
        // document.querySelector('.slide-container').style.transform='translateX(-100vw)'


        //버튼 누르면 넘어가기
        //다음 버튼을 눌렀을때, 지금보이는 사진이 1이면 2번사진 보여주고 지금보이는 사진이 2면 3번 사진 보여줘야 한다.
        
        // 방법1
        // var 지금사진 = 1;
        // $('.next').on('click', function(){
        //   if (지금사진 == 1) {
        //     $('.slide-container').css('transform', 'translateX(-100vw)');
        //     지금사진 += 1;
        //   } 
        //   else if (지금사진 == 2){
        //     $('.slide-container').css('transform', 'translateX(-200vw)');
        //     지금사진 += 1;
        //   }   
        // });

        //방법2
        var 지금보이는사진 = 1;
        
        $('.slide-next').click(function(){
            if( 지금보이는사진 < 3){            //총 사진의 갯수가 3이므로
                $('.slide-container').css('transform', 'translateX(-' + 지금보이는사진 + '00vw)');  // 'translateX(-n00vw)'); 처럼사용하기 위해서
                지금보이는사진 = 지금보이는사진 + 1;
            }
        });

        $('.slide-before').click(function() {
            if ( 지금보이는사진 > 1 ) { 
            $('.slide-container').css('transform', 'translateX(-' + (지금보이는사진 - 2) + '00vw)');  
            지금보이는사진 = 지금보이는사진 - 1;
        }
        });


        
//---------------------------------------------------마우스로 끌어서 넘기는 기능----------------------------------------
        var 시작좌표 = 0;
        var 마우스누름 = false;

        //step 1. 처음좌표 찍어보자.
        $('.slide-box').eq(0).on('mousedown', function(e){
            시작좌표 = e.clientX;   //e.clientX => 찍었을때 좌표
            마우스누름 = true;
        });

        //step 2. 이동거리(처음좌표 - 나중좌표) 알아내서 slide-container를 이동시켜보자. (마우스누른상태에서만)
        $('.slide-box').eq(0).on('mousemove', function(e){
            console.log(e.clientX - 시작좌표)  //얘가 움직인거리. 원래는 시작좌표 - e.clientX이나, 일반적으로 왼쪽이 - 오른쪽이 +이므로 맞춰주려고 바꿈
            
            //마우스를 찍었을때 slide-container를 움직인 만큼 이동시켜보자.
            if(마우스누름 == true){
               $('.slide-container').css('transform', `translateX( ${e.clientX - 시작좌표}px )`) 
            }
        });

        //step 3. 많이 이동하면 자동으로 넘어가게, 조금 이동하면 기존사진으로 돌아가게 만들어보자.
        $('.slide-box').eq(0).on('mouseup', function(e){
            마우스누름 = false;  //마우스 똈을때는 안이동하게하려고.

            //이동거리(e.clientX -  시작좌표)에 따른 그림 넘기기   
            //어느정도 땡기면 넘어가고
            if(e.clientX - 시작좌표 < -250 ){    //여기서 -100은 임의로 지정. 이동거리가 궁금하면 console.log찍어보자
                $('.slide-container')
                    .css('transition', 'all 0.3s')
                    .css('transform', 'translateX(-100vw)');
            } //별로 안땡기면 원본으로 돌리기
                else {
                $('.slide-container')
                .css('transition', 'all 0.3s')
                .css('transform', 'translateX(0vw');
            }

        })
 


        var 시작좌표2 = 0;
        var 마우스누름2 = false;

        //step 1. 처음좌표 찍어보자.
        $('.slide-box').eq(1).on('mousedown', function(e){
            시작좌표2 = e.clientX;   //e.clientX => 찍었을때 좌표
            마우스누름2 = true;
        });

        //step 2. 이동거리(처음좌표 - 나중좌표) 알아내서 slide-container를 이동시켜보자. (마우스누른상태에서만)
        $('.slide-box').eq(1).on('mousemove', function(e){
            console.log(e.clientX - 시작좌표2)  //얘가 움직인거리. 원래는 시작좌표 - e.clientX이나, 일반적으로 왼쪽이 - 오른쪽이 +이므로 맞춰주려고 바꿈
            
            //마우스를 찍었을때 slide-container를 움직인 만큼 이동시켜보자.
            if(마우스누름2 == true){
               $('.slide-container').css('transform', `translateX( ${e.clientX - 시작좌표2}px )`) 
            }
        });

        //step 3. 많이 이동하면 자동으로 넘어가게, 조금 이동하면 기존사진으로 돌아가게 만들어보자.
        $('.slide-box').eq(1).on('mouseup', function(e){
            마우스누름2 = false;  //마우스 똈을때는 안이동하게하려고.

            //이동거리(e.clientX -  시작좌표)에 따른 그림 넘기기   
            //어느정도 땡기면 넘어가고
            if(e.clientX - 시작좌표2 < -250 ){    //여기서 -100은 임의로 지정. 이동거리가 궁금하면 console.log찍어보자
                $('.slide-container')
                    .css('transition', 'all 0.3s')
                    .css('transform', 'translateX(-200vw)');
            } //별로 안땡기면 원본으로 돌리기
                else {
                $('.slide-container')
                .css('transition', 'all 0.3s')
                .css('transform', 'translateX(0vw');
            }

        })
















        



    </script>
   
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>

<p>수업내용 : carousel 만들되 마우스로 드래그 해서 넘기는 기능 추가
<p>mousedown (어떤 요소에 마우스버튼 눌렀을 때), </p>
<p>mouseup 어떤 요소에 마우스버튼 뗐을 때), </p>
<p> mousemove 이벤트를 알아야한다. (어떤 요소위에서 마우스 이동할 때)</p>
<p></p>
<p></p>
<p></p>

</html>